<!-- This Source Code Form is subject to the terms of the Mozilla Public
	License, v. 2.0. If a copy of the MPL was not distributed with this
	file, You can obtain one at http://mozilla.org/MPL/2.0/.

	Copyright (C) 2024 Vladimir Leonidovich. All rights reserved.
-->

<aside>
	<nav class="level container has-text-centered">
		{{>statistics-item title="Issues" count=issuesCount}}
		{{>statistics-item title="Contributors" count=contributorsCount}}
		{{>statistics-item title="Subjects" count=subjectsCount}}
	</nav>
</aside>

<main class="section">
	<section class="block container">
		<h1 class="title">Top Contributors</h1>
		<ul class="columns is-mobile has-text-centered">
			{{#each contributors}}
				{{>contributor contributor=this}}
			{{/each}}
		</ul>
	</section>

	<section class="block container">
		{{#each issues}}
			<h1 class="title">{{@key}}</h1>
			<ul
				class="fixed-grid has-1-cols has-2-cols-tablet has-3-cols-desktop"
			>
				<div class="grid">
					{{#each this}}
						{{>issue issue=this}}
					{{/each}}
				</div>
			</ul>
		{{/each}}
	</section>
</main>

<section class="modal">
	<div class="modal-background"></div>
	<div class="modal-content">
		<form class="card" method="post" target="_self">
			<div class="card-content">
				<section class="field">
					<label class="label">Subject</label>
					<div class="control">
						<div class="select">
							<select name="subject">
								{{#each subjects}}
									<option value="{{id}}">{{name}}</option>
								{{/each}}
							</select>
						</div>
					</div>
				</section>

				<section class="field">
					<label class="label">Issue</label>
					<div class="control">
						<textarea name="text" class="textarea"></textarea>
					</div>
				</section>

				<section class="field">
					<div class="control">
						<button class="button is-primary" type="submit">
							Upload
						</button>
					</div>
				</section>
			</div>
		</form>
	</div>
	<button class="modal-close is-large"></button>
</section>
